.MODEL SMALL 
.STACK 100h
PULAR_LINHA MACRO
    PUSH AX
    PUSH DX
    MOV AH,2h
    MOV DL,10
    INT 21h
    MOV DL,13
    INT 21h
    POP DX
    POP AX
ENDM
.DATA
    MAPA1 DW 20 DUP( 10 DUP('~'))
    BOARDSPACE DB 32,32,32,32,32,32,32,'$'
.CODE
UPDATESCREEN PROC
    
    XOR BX,BX
    XOR SI,SI
    MOV CX,20

    MOV AH,9h
    LEA DX,BOARDSPACE
    INT 21h

    MOV AH,2h
IMPRIMIR:
    MOV DX,MAPA1[BX][SI]
    INT 21h

    INC SI
    CMP SI,20
    JNZ IMPRIMIR

    ADD BX,SI
    XOR SI,SI

    TEST CX,1
    JZ PLAYER

    PULAR_LINHA

PLAYER:
    MOV AH,9h
    LEA DX,BOARDSPACE
    INT 21h

    MOV AH,2h
    LOOP IMPRIMIR

    RET
UPDATESCREEN ENDP

MAIN PROC
    MOV AX,@DATA
    MOV DS,AX

    CALL UPDATESCREEN

    MOV AH,4ch
    INT 21h
MAIN ENDP
END MAIN